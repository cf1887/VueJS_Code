<template>
    <nav class="navbar navbar-expand-lg bg-vue navbar-dark">
        <div class="container">
            <router-link to="/shop" class="navbar-brand">Der Shop</router-link>
            <ul class="navbar-nav me-auto">
                <li class="nav-item active">
                    <router-link to="/shop" class="nav-link"
                        >Startseite</router-link
                    >
                </li>
                <li class="nav-item active">
                    <router-link to="/shop/create/product" class="nav-link"
                        >Neuer Artikel</router-link
                    >
                </li>
            </ul>
            <button class="btn bg-vue me-3">
                <i class="fas fa-shopping-card"></i> Warenkorb ({{ cartSum }} €)
            </button>
            <button class="btn bg-vue2" @click="signOut">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </nav>
</template>

<script>
import { mapGetters } from "vuex";
export default {
    name: "TheNavbar",
    // computed: {
    //     cartTotal() {
    //         return this.$store.getters.cartTotal;
    //     },
    // },
    computed: {
        // ...mapGetters(["cartTotal"]),
        ...mapGetters({ cartSum: 'cartTotal' }),
    },
    methods: {
        async signOut() {
            // Hier könnte man auch einfach wieder den then-catch-Block nehmen, aber der Dozent wollte Abwechslung reinbringen...
            try {
                await this.$store.dispatch("signOut");
                this.$router.push("/");
            } catch (error) {
                console.error(error);
            }
        },
    },
};
</script>

<style scoped></style>
